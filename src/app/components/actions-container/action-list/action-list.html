<!-- actions list -->
<div>
    <ng-container *ngIf="actions.length">
        <div class="flex items-center gap-2 my-2 px-1">
            <h3 class="text-sm font-semibold text-slate-500 uppercase tracking-wider">{{ title }}</h3>
            <span class="px-2 py-0.5 bg-slate-100 text-slate-600 text-xs font-bold rounded-full">{{ actions.length
                }}</span>
        </div>
        <div class="space-y-2">
            <div *ngFor="let action of actions" (click)="toggle(action)" class="group bg-white hover:bg-slate-50 border border-slate-100 w-100
                            p-3 rounded-xl flex items-center gap-3 transition-colors cursor-pointer" [ngClass]="{
                                      'bg-slate-50/50': action.done,
                            }">

                <div class="flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors duration-200"
                    [ngClass]="{'border-blue-500 bg-blue-500': action.done, 'border-slate-300': !action.done}">
                    <svg *ngIf="action.done" xmlns="http://www.w3.org/2000/svg" class="w-3.5 h-3.5 text-white"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                    </svg>
                </div>

                <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between gap-2">
                        <div class="truncate flex-1">
                            <div [class.line-through]="action.done" [class.text-slate-400]="action.done"
                                class="text-base font-medium text-slate-800 truncate transition-colors">
                                {{ action.title }}
                            </div>
                            <div class="text-xs text-slate-400 mt-0.5">
                                <span *ngIf="action.done && action.doneAt">Completed at {{ action.doneAt |
                                    date:'shortTime' }}</span>
                                <span *ngIf="!action.done || !action.doneAt">{{ action.createdAt | date:'shortTime'
                                    }}</span>
                            </div>
                        </div>

                        <div class="flex items-center gap-2">
                            <div *ngIf="type === 'pending'"
                                class="px-2 py-0.5 rounded-md text-xs font-medium border transition-colors duration-200 whitespace-nowrap"
                                [ngClass]="getUrgencyClasses(getDayCount(action))">
                                {{ getDayCount(action) }}d
                            </div>
                            <div *ngIf="type === 'done' && getDurationString(action)"
                                class="px-2 py-0.5 rounded-md text-xs font-medium border transition-colors duration-200 bg-slate-50 text-slate-500 border-slate-100 whitespace-nowrap">
                                {{ getDurationString(action) }}
                            </div>
                            <button (click)="$event.stopPropagation(); remove(action.id)"
                                class="p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors"
                                title="Remove">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ng-container>

    <div *ngIf="isToday && actions.length === 0" class="text-center py-10 text-slate-400">
        <div class="text-base font-medium mb-1">
            No actions yet
        </div>
        <p class="text-xs opacity-80">
            Add one small thing and start your day.
        </p>
    </div>
</div>